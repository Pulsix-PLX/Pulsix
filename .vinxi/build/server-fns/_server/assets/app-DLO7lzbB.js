import{createComponent as v,isServer as q,getRequestEvent as D,delegateEvents as te,spread as B,useAssets as ne,ssr as $,escape as p,ssrHydrationKey as S}from"solid-js/web";import{children as re,createMemo as X,getOwner as oe,untrack as ae,Show as W,on as se,createRoot as ie,createSignal as x,onCleanup as O,sharedConfig as k,createContext as ce,createUniqueId as ue,useContext as le,createRenderEffect as de,onMount as me,Suspense as fe}from"solid-js";import{F as he}from"./server-fns-ptihYXL4.js";import{M as pe}from"./Menu-OQmUNT5t.js";/* empty css               */import{c as ge,d as ve,R as ye,g as we,e as be,f as H,h as Ee,s as Y,m as Te,i as xe,k as Le,j as Pe,n as Re}from"./routing-BSDkuvr3.js";import{b as Ae}from"./action-BVKOmiKt.js";import"solid-js/web/storage";import"./fetchEvent-1KlzQMFw.js";import"h3";import"node:async_hooks";import"./components-CJF4pMQg.js";const J=e=>t=>{const{base:n}=t,o=re(()=>t.children),r=X(()=>ge(o(),t.base||""));let a;const s=ve(e,r,()=>a,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),v(ye.Provider,{value:s,get children(){return v(Ce,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(a=oe())&&null,v(Ne,{routerState:s,get branches(){return r()}})]}})}})};function Ce(e){const t=e.routerState.location,n=e.routerState.params,o=X(()=>e.preload&&ae(()=>{Y(!0),e.preload({params:n,location:t,intent:we()||"initial"}),Y(!1)}));return v(W,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>v(r,{params:n,location:t,get data(){return o()},get children(){return e.children}})})}function Ne(e){if(q){const r=D();if(r&&r.router&&r.router.dataOnly){$e(r,e.routerState,e.branches);return}r&&((r.router||(r.router={})).matches||(r.router.matches=e.routerState.matches().map(({route:a,path:s,params:u})=>({path:a.originalPath,pattern:a.pattern,match:s,params:u,info:a.info}))))}const t=[];let n;const o=X(se(e.routerState.matches,(r,a,s)=>{let u=a&&r.length===a.length;const g=[];for(let l=0,y=r.length;l<y;l++){const L=a&&a[l],b=r[l];s&&L&&b.route.key===L.route.key?g[l]=s[l]:(u=!1,t[l]&&t[l](),ie(E=>{t[l]=E,g[l]=be(e.routerState,g[l-1]||e.routerState.base,V(()=>o()[l+1]),()=>e.routerState.matches()[l])}))}return t.splice(r.length).forEach(l=>l()),s&&u?s:(n=g[0],g)}));return V(()=>o()&&n)()}const V=e=>()=>v(W,{get when(){return e()},keyed:!0,children:t=>v(Ee.Provider,{value:t,get children(){return t.outlet()}})});function $e(e,t,n){const o=new URL(e.request.url),r=H(n,new URL(e.router.previousUrl||e.request.url).pathname),a=H(n,o.pathname);for(let s=0;s<a.length;s++){(!r[s]||a[s].route!==r[s].route)&&(e.router.dataOnly=!0);const{route:u,params:g}=a[s];u.preload&&u.preload({params:g,location:t.location,intent:"preload"})}}function Se([e,t],n,o){return[e,o?r=>t(o(r)):t]}function ke(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,o=Se(x(n(e.get()),{equals:(r,a)=>r.value===a.value&&r.state===a.state}),void 0,r=>(!t&&e.set(r),k.registry&&!k.done&&(k.done=!0),r));return e.init&&O(e.init((r=e.get())=>{t=!0,o[1](n(r)),t=!1})),J({signal:o,create:e.create,utils:e.utils})}function Ie(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Oe(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function Ue(e){const t=new URL(e);return t.pathname+t.search}function Me(e){let t;const n={value:e.url||(t=D())&&Ue(t.request.url)||""};return J({signal:[()=>n,o=>Object.assign(n,o)]})(e)}function je(e=!0,t=!1,n="/_server",o){return r=>{const a=r.base.path(),s=r.navigatorFactory(r.base);let u,g;function l(c){return c.namespaceURI==="http://www.w3.org/2000/svg"}function y(c){if(c.defaultPrevented||c.button!==0||c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)return;const i=c.composedPath().find(C=>C instanceof Node&&C.nodeName.toUpperCase()==="A");if(!i||t&&!i.hasAttribute("link"))return;const m=l(i),d=m?i.href.baseVal:i.href;if((m?i.target.baseVal:i.target)||!d&&!i.hasAttribute("state"))return;const T=(i.getAttribute("rel")||"").split(/\s+/);if(i.hasAttribute("download")||T&&T.includes("external"))return;const P=m?new URL(d,document.baseURI):new URL(d);if(!(P.origin!==window.location.origin||a&&P.pathname&&!P.pathname.toLowerCase().startsWith(a.toLowerCase())))return[i,P]}function L(c){const i=y(c);if(!i)return;const[m,d]=i,A=r.parsePath(d.pathname+d.search+d.hash),T=m.getAttribute("state");c.preventDefault(),s(A,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:T?JSON.parse(T):void 0})}function b(c){const i=y(c);if(!i)return;const[m,d]=i;o&&(d.pathname=o(d.pathname)),r.preloadRoute(d,m.getAttribute("preload")!=="false")}function E(c){clearTimeout(u);const i=y(c);if(!i)return g=null;const[m,d]=i;g!==m&&(o&&(d.pathname=o(d.pathname)),u=setTimeout(()=>{r.preloadRoute(d,m.getAttribute("preload")!=="false"),g=m},20))}function R(c){if(c.defaultPrevented)return;let i=c.submitter&&c.submitter.hasAttribute("formaction")?c.submitter.getAttribute("formaction"):c.target.getAttribute("action");if(!i)return;if(!i.startsWith("https://action/")){const d=new URL(i,Te);if(i=r.parsePath(d.pathname+d.search),!i.startsWith(n))return}if(c.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const m=Ae.get(i);if(m){c.preventDefault();const d=new FormData(c.target,c.submitter);m.call({r,f:c.target},c.target.enctype==="multipart/form-data"?d:new URLSearchParams(d))}}te(["click","submit"]),document.addEventListener("click",L),e&&(document.addEventListener("mousemove",E,{passive:!0}),document.addEventListener("focusin",b,{passive:!0}),document.addEventListener("touchstart",b,{passive:!0})),document.addEventListener("submit",R),O(()=>{document.removeEventListener("click",L),e&&(document.removeEventListener("mousemove",E),document.removeEventListener("focusin",b),document.removeEventListener("touchstart",b)),document.removeEventListener("submit",R)})}}function qe(e){if(q)return Me(e);const t=()=>{const o=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:o+window.location.hash,state:r}},n=xe();return ke({get:t,set({value:o,replace:r,scroll:a,state:s}){r?window.history.replaceState(Le(s),"",o):window.history.pushState(s,"",o),Oe(decodeURIComponent(window.location.hash.slice(1)),a),Pe()},init:o=>Ie(window,"popstate",Re(o,r=>{if(r&&r<0)return!n.confirm(r);{const a=t();return!n.confirm(a.value,{state:a.state})}})),create:je(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:o=>window.history.go(o),beforeLeave:n}})(e)}const z=ce(),G=["title","meta"],M=[],j=["name","http-equiv","content","charset","media"].concat(["property"]),I=(e,t)=>{const n=Object.fromEntries(Object.entries(e.props).filter(([o])=>t.includes(o)).sort());return(Object.hasOwn(n,"name")||Object.hasOwn(n,"property"))&&(n.name=n.name||n.property,delete n.property),e.tag+JSON.stringify(n)};function Xe(){if(!k.context){const n=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(n,o=>o.parentNode.removeChild(o))}const e=new Map;function t(n){if(n.ref)return n.ref;let o=document.querySelector(`[data-sm="${n.id}"]`);return o?(o.tagName.toLowerCase()!==n.tag&&(o.parentNode&&o.parentNode.removeChild(o),o=document.createElement(n.tag)),o.removeAttribute("data-sm")):o=document.createElement(n.tag),o}return{addTag(n){if(G.indexOf(n.tag)!==-1){const a=n.tag==="title"?M:j,s=I(n,a);e.has(s)||e.set(s,[]);let u=e.get(s),g=u.length;u=[...u,n],e.set(s,u);let l=t(n);n.ref=l,B(l,n.props);let y=null;for(var o=g-1;o>=0;o--)if(u[o]!=null){y=u[o];break}return l.parentNode!=document.head&&document.head.appendChild(l),y&&y.ref&&y.ref.parentNode&&document.head.removeChild(y.ref),g}let r=t(n);return n.ref=r,B(r,n.props),r.parentNode!=document.head&&document.head.appendChild(r),-1},removeTag(n,o){const r=n.tag==="title"?M:j,a=I(n,r);if(n.ref){const s=e.get(a);if(s){if(n.ref.parentNode){n.ref.parentNode.removeChild(n.ref);for(let u=o-1;u>=0;u--)s[u]!=null&&document.head.appendChild(s[u].ref)}s[o]=null,e.set(a,s)}else n.ref.parentNode&&n.ref.parentNode.removeChild(n.ref)}}}}function Fe(){const e=[];return ne(()=>$(Ye(e))),{addTag(t){if(G.indexOf(t.tag)!==-1){const n=t.tag==="title"?M:j,o=I(t,n),r=e.findIndex(a=>a.tag===t.tag&&I(a,n)===o);r!==-1&&e.splice(r,1)}return e.push(t),e.length},removeTag(t,n){}}}const Ke=e=>{const t=q?Fe():Xe();return v(z.Provider,{value:t,get children(){return e.children}})},Be=(e,t,n)=>(He({tag:e,props:t,setting:n,id:ue(),get name(){return t.name||t.property}}),null);function He(e){const t=le(z);if(!t)throw new Error("<MetaProvider /> should be in the tree");de(()=>{const n=t.addTag(e);O(()=>t.removeTag(e,n))})}function Ye(e){return e.map(t=>{const o=Object.keys(t.props).map(a=>a==="children"?"":` ${a}="${p(t.props[a],!0)}"`).join("");let r=t.props.children;return Array.isArray(r)&&(r=r.join("")),t.setting?.close?`<${t.tag} data-sm="${t.id}"${o}>${t.setting?.escape?p(r):r||""}</${t.tag}>`:`<${t.tag} data-sm="${t.id}"${o}/>`}).join("")}const Ve=e=>Be("title",e,{escape:!0,close:!0});var _=["<div",' class="','" style="','"></div>'],_e=["<div",' class="cursor-magnetic-ring" style="','"></div>'],De=["<div",' class="cursor-trail-particle" style="','"></div>'];const We=()=>{const[e,t]=x({x:0,y:0}),[n,o]=x([]),[r,a]=x(!1),[s,u]=x(!1),[g,l]=x({x:0,y:0}),[y,L]=x({x:0,y:0}),[b,E]=x(!1),R=8,c=15;return me(()=>{let i=0,m=0,d=performance.now();const A=document.createElement("style");A.textContent="* { cursor: none !important; }",document.head.appendChild(A);const T=f=>{const h=performance.now(),w=h-d;if(w>0){const N=Math.abs((f.clientX-i)/w)*20,U=Math.abs((f.clientY-m)/w)*20,ee=Math.min(Math.sqrt(N*N+U*U),10);l({x:N,y:U}),document.documentElement.style.setProperty("--cursor-speed",ee)}L(e()),t({x:f.clientX,y:f.clientY}),i=f.clientX,m=f.clientY,d=h},P=f=>{const h=f.target,w=h.tagName==="INPUT"||h.tagName==="TEXTAREA",N=h.tagName==="A"||h.tagName==="BUTTON"||h.classList.contains("clickable")||h.closest("button")||h.closest("a")||w;E(w),a(N)},C=f=>{u(!0),Q(f.clientX,f.clientY);const h=f.target,w=h.tagName==="INPUT"||h.tagName==="TEXTAREA";E(w)},F=()=>{u(!1)},Q=(f,h)=>{},Z=setInterval(()=>{o(f=>[...f,{...e(),timestamp:Date.now()}].slice(-8))},c),K=f=>{const h=f.target,w=f.relatedTarget;(h.tagName==="INPUT"||h.tagName==="TEXTAREA")&&(!w||w.tagName!=="INPUT"&&w.tagName!=="TEXTAREA")&&E(!1)};document.addEventListener("mousemove",T),document.addEventListener("mouseover",P),document.addEventListener("mouseout",K),document.addEventListener("mousedown",C),document.addEventListener("mouseup",F),document.body.style.cursor="none",O(()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseover",P),document.removeEventListener("mouseout",K),document.removeEventListener("mousedown",C),document.removeEventListener("mouseup",F),clearInterval(Z)})}),[n().map((i,m)=>$(De,S(),`left:${p(i.x,!0)}px;top:${p(i.y,!0)}px`+(";opacity:"+p(m,!0)/p(R,!0))+`;transform:scale(${.5+p(m,!0)/p(R,!0)/2});animation-delay:${p(m,!0)*50}ms`)),$(_,S(),`cursor-outer ${r()?"hovering":""} ${s()?"clicking":""} ${b()?"text-input":""}`,`left:${p(e().x,!0)}px;top:${p(e().y,!0)}px`),$(_,S(),`cursor-inner ${r()?"hovering":""} ${s()?"clicking":""} ${b()?"text-input":""}`,`left:${p(e().x,!0)}px;top:${p(e().y,!0)}px`),$(_e,S(),`left:${p(e().x,!0)}px;top:${p(e().y,!0)}px`+(";opacity:"+(r()?1:0))+`;transform:translate(-50%, -50%) scale(${r()?1:0}) rotate(${p(e().x,!0)/5}deg)`)]};function ct(){return v(qe,{root:e=>v(Ke,{get children(){return[v(Ve,{children:"Pulsix"}),v(We,{}),v(pe,{}),v(fe,{get children(){return e.children}})]}}),get children(){return v(he,{})}})}export{ct as default};
