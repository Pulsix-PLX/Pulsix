import{l as E,w as z,D as N,H as h,n as g,z as m,q as $,c as C,t as f,o as v,S as x,e as O,A as j,x as k}from"./web-DcXN-p99.js";import{P as F}from"./runtime-BmWp8cEw.js";import"./preload-helper-CM3UJVvY.js";var I=f("<div>Caricamento Scena 3D..."),T=f("<div><strong>Errore Caricamento Spline</strong><pre>"),A=f("<canvas>"),B=f("<div class=landing-container> <div class=spline-wrapper><!$><!/><!$><!/><!$><!/>");function Z(t){let i;const[_,b]=E(!1),S=()=>{switch(console.log(`[Card3D ${t.id}] Calcolo URL per colore: ${t.color}`),t.color){case"purple":return"https://prod.spline.design/j0mVtZ9nPBu6RBRy/scene.splinecode";default:return"https://prod.spline.design/mzKeaOgjz2ILR0uC/scene.splinecode"}};z(()=>{i?(console.log(`[Card3D ${t.id}] Canvas ref pronto.`),b(!0)):console.error(`[Card3D ${t.id}] Errore: Canvas ref non trovato in onMount!`),v(()=>{console.log(`[Card3D ${t.id}] Cleanup: reset isCanvasReady.`),b(!1)})});const[s]=N(()=>_()?S():null,async r=>{if(!i)throw console.error(`[Card3D ${t.id}] Fetcher: CanvasRef è nullo! Impossibile caricare.`),new Error("Canvas element reference is missing.");console.log(`[Card3D ${t.id}] createResource Fetcher: Inizio caricamento da ${r}`);const o=new F(i);try{return await o.load(r),console.log(`[Card3D ${t.id}] createResource Fetcher: Spline caricata con successo.`),o}catch(n){throw console.error(`[Card3D ${t.id}] createResource Fetcher: Errore durante app.load():`,n),n}});return h(r=>{const o=s();return r&&r!==o&&(console.log(`[Card3D ${t.id}] createEffect[cleanup]: Dispose istanza Spline precedente.`),r.dispose()),o},void 0),v(()=>{const r=s.latest;r?(console.log(`[Card3D ${t.id}] onCleanup: Dispose istanza Spline finale.`),r.dispose()):console.log(`[Card3D ${t.id}] onCleanup: Nessuna istanza Spline da pulire.`)}),h(()=>{const r=s();if(!r||s.loading||s.error)return;console.log(`[Card3D ${t.id}] Effetto Variabili: Esecuzione...`);const o="Group 2",n={x:1.2,y:1.2,z:1.2},d="wallet_name",c=t.name,p="balance",P=a=>{switch(a){case"EUR":return"€";case"USD":return"$";case"GBP":return"£";default:return a}},y=`${t.balance} ${P(t.currency)}`;console.log(`[Card3D ${t.id}] -> Aggiorno: ${d}=${c}, ${p}=${y}`);try{r.setVariable(d,c),r.setVariable(p,y);const a=r.findObjectByName(o);a?typeof a?.scale?.x=="number"?Object.assign(a.scale,n):console.warn(`[Card3D ${t.id}] -> ATTENZIONE: 'scale' non trovato su '${o}'.`):console.warn(`[Card3D ${t.id}] -> ATTENZIONE: Oggetto '${o}' non trovato.`)}catch(a){console.error(`[Card3D ${t.id}] -> ERRORE durante interazione Spline:`,a)}}),(()=>{var r=g(B),o=r.firstChild,n=o.nextSibling,d=n.firstChild,[c,p]=m(d.nextSibling),P=c.nextSibling,[y,a]=m(P.nextSibling),w=y.nextSibling,[D,R]=m(w.nextSibling);return n.style.setProperty("width","80%"),n.style.setProperty("height","500px"),n.style.setProperty("position","relative"),$(n,C(x,{get when(){return s.loading},get children(){var e=g(I);return e.style.setProperty("position","absolute"),e.style.setProperty("inset","0"),e.style.setProperty("background","rgba(230, 230, 230, 0.8)"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","center"),e.style.setProperty("align-items","center"),e.style.setProperty("border-radius","8px"),e.style.setProperty("z-index","10"),e.style.setProperty("color","#555"),e.style.setProperty("font-size","1.1em"),e}}),c,p),$(n,C(x,{get when(){return s.error&&!s.loading},get children(){var e=g(T),u=e.firstChild,l=u.nextSibling;return e.style.setProperty("position","absolute"),e.style.setProperty("inset","0"),e.style.setProperty("background","rgba(255, 200, 200, 0.9)"),e.style.setProperty("color","darkred"),e.style.setProperty("display","flex"),e.style.setProperty("flex-direction","column"),e.style.setProperty("justify-content","center"),e.style.setProperty("align-items","center"),e.style.setProperty("padding","15px"),e.style.setProperty("border-radius","8px"),e.style.setProperty("z-index","10"),e.style.setProperty("text-align","center"),e.style.setProperty("font-size","0.9em"),l.style.setProperty("margin-top","8px"),l.style.setProperty("white-space","pre-wrap"),l.style.setProperty("max-height","100px"),l.style.setProperty("overflow","auto"),$(l,()=>s.error?.message||JSON.stringify(s.error)),e}}),y,a),$(n,C(k,{get fallback(){return[]},get children(){var e=g(A),u=i;return typeof u=="function"?j(u,e):i=e,e.style.setProperty("width","100%"),e.style.setProperty("height","100%"),e.style.setProperty("display","block"),e.style.setProperty("outline","none"),e.style.setProperty("background-color","transparent"),e.style.setProperty("transition","opacity 0.4s ease-in-out"),O(l=>(l=s.loading||s.error?.3:1)!=null?e.style.setProperty("opacity",l):e.style.removeProperty("opacity")),e}}),D,R),r})()}export{Z as default};
