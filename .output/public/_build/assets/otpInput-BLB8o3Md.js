import{l as w,n as f,z as b,q as h,c as _,t as g,m as k,g as O,A as S,I as B,e as C,B as I,r as N,F as T,S as A}from"./web-DcXN-p99.js";import{g as F,h as L}from"./otpInput-DeXMA6XN.js";import{s as V,n as j}from"./index-DcaoqgVt.js";import{g as i}from"./Inputs-hvbb28Ka.js";import{u as M}from"./action-CDr_hENZ.js";import"./server-runtime-6wq6LtAi.js";import"./ButtonSparkle-CX-W2frl.js";import"./icons-ChlcGNuY.js";import"./routing-BUmn5GEU.js";var U=g("<p class=responseOTP>"),q=g("<div class=otp-container><div class=otp-field></div><!$><!/>"),z=g("<input type=number pattern=[0-9]* inputmode=numeric maxlength=1>"),H=g('<span class="text-white text-3xl ml-10 mr-10">&#183;');function tt(d){const[r,u]=w(Array(6).fill("")),[v,$]=w(""),m=[],P=M(F),R=(t,s)=>{const e=s.target.value,l=/[0-9]/g.test(e),n=[...r()];n[t]=l?e[0]:"",u(n),l&&t<r().length-1&&m[t+1]?.focus(),n.every(a=>a!=="")&&y(n.join(""))},D=(t,s)=>{const c=s.target;if($(""),s.key==="Backspace"){const e=[...r()];c.value!==""?(e[t]="",u(e),t>0&&m[t-1]?.focus()):t>0&&(e[t-1]="",u(e),m[t-1]?.focus())}},E=t=>{t.preventDefault();const e=(t.clipboardData?.getData("text")||"").slice(0,r().length).split("").filter(l=>/[0-9]/.test(l));e.length===r().length&&(u(e),y(e.join("")))},y=async t=>{if(d.createUser)try{await L().confirm(t),console.log("OTP verified successfully."),await P({username:i("username"),passwordConfirm:i("passwordConfirm"),name:i("name"),surname:i("surname"),dateOfBirthday:i("dateOfBirthday"),email:i("email"),phone:i("phone")})}catch(s){console.error("Error verifying OTP:",s)}t.length===r().length&&(t==d.code?V(j()+1):$("wrong code"))};return(()=>{var t=f(q),s=t.firstChild,c=s.nextSibling,[e,l]=b(c.nextSibling);return h(s,_(T,{get each(){return r()},children:(n,a)=>[(()=>{var o=f(z);return o.addEventListener("paste",E),o.$$keydown=p=>D(a(),p),o.$$input=p=>R(a(),p),S(p=>m[a()]=p,o),B(o,"value",n),C(()=>I(o,a()===0?"inputLeft":a()===5||a()===2?"inputRight":a()===3?"inputLeft":"")),N(),o})(),O(()=>O(()=>a()===2)()&&f(H))]})),h(t,_(A,{get when(){return v()},get children(){var n=f(U);return h(n,v),n}}),e,l),t})()}k(["input","keydown"]);export{tt as default};
