import{ssr as o,ssrHydrationKey as i,escape as s,createComponent as l}from"solid-js/web";import{createSignal as c,onMount as b,onCleanup as f,createResource as R,createEffect as $,Show as u,Suspense as E}from"solid-js";import"@splinetool/runtime";import{u as x}from"./assets/routing-BRXp7sqN.js";var S=["<div",' style="','">Loading...</div>'],N=["<div",' style="','"><strong>Errore Caricamento Spline</strong><pre style="','">',"</pre></div>"],z=["<canvas",' style="','"></canvas>'],O=["<img",' class="absolute ml-[20.7vw] -mt-[6vw] w-23" src="/icons/edit.png">'],_=["<div",' class="landing-container"><div class="spline-wrapper" style="','"><!--$-->',"<!--/--><!--$-->","<!--/--><!--$-->","<!--/--><!--$-->","<!--/--></div></div>"];function Z(e){const[C,h]=c(!1),w=()=>{switch(console.log(`[Card3D ${e.id}] Calcolo URL per colore: ${e.color}`),e.color){case"purple":return"https://prod.spline.design/j0mVtZ9nPBu6RBRy/scene.splinecode";default:return"https://prod.spline.design/mzKeaOgjz2ILR0uC/scene.splinecode"}};b(()=>{console.error(`[Card3D ${e.id}] Errore: Canvas ref non trovato in onMount!`),f(()=>{console.log(`[Card3D ${e.id}] Cleanup: reset isCanvasReady.`),h(!1)})});const[n]=R(()=>C()?w():null,async r=>{throw console.error(`[Card3D ${e.id}] Fetcher: CanvasRef è nullo! Impossibile caricare.`),new Error("Canvas element reference is missing.")});$(r=>{const a=n();return r&&r!==a&&(console.log(`[Card3D ${e.id}] createEffect[cleanup]: Dispose istanza Spline precedente.`),r.dispose()),a},void 0),f(()=>{const r=n.latest;r?(console.log(`[Card3D ${e.id}] onCleanup: Dispose istanza Spline finale.`),r.dispose()):console.log(`[Card3D ${e.id}] onCleanup: Nessuna istanza Spline da pulire.`)}),$(()=>{const r=n();if(!r||n.loading||n.error)return;console.log(`[Card3D ${e.id}] Effetto Variabili: Esecuzione...`);const a="Group 2",D={x:1.2,y:1.2,z:1.2},d="wallet_name",g=e.name,m="balance",y=t=>{switch(t){case"EUR":return"€";case"USD":return"$";case"GBP":return"£";case"CHF":return"CHF";case"CAD":return"C$";case"AUD":return"A$";case"JPY":return"¥";case"CNY":return"¥";case"INR":return"₹";case"BRL":return"R$";case"MXN":return"$";case"NZD":return"$";case"SGD":return"$";case"HKD":return"$";case"SEK":return"kr";case"NOK":return"kr";case"DKK":return"kr";case"PLN":return"zł";case"CZK":return"Kč";case"HUF":return"Ft";case"RUB":return"₽";case"TRY":return"₺";case"ZAR":return"R";case"AED":return"د. إ";default:return t}},p=`${e.balance} ${y(e.currency)}`;console.log(`[Card3D ${e.id}] -> Aggiorno: ${d}=${g}, ${m}=${p}`);try{r.setVariable(d,g),r.setVariable(m,p);const t=r.findObjectByName(a);t?typeof t?.scale?.x=="number"?Object.assign(t.scale,D):console.warn(`[Card3D ${e.id}] -> ATTENZIONE: 'scale' non trovato su '${a}'.`):console.warn(`[Card3D ${e.id}] -> ATTENZIONE: Oggetto '${a}' non trovato.`)}catch(t){console.error(`[Card3D ${e.id}] -> ERRORE durante interazione Spline:`,t)}}),x();const[k,K]=c(!0),[j,A]=c(!1),[T,I]=c(0),[v,U]=c(!1);return o(_,i(),"width:80%;height:500px;position:relative",s(l(u,{get when(){return n.loading},get children(){return o(S,i(),"width:90%;height:45%;inset:0;margin-top:130px;background:rgba(0, 0, 0, 0.6);display:flex;justify-content:center;align-items:center;border-radius:8px;z-index:10;color:white;font-size:1.1em")}})),s(l(u,{get when(){return n.error&&!n.loading},get children(){return o(N,i(),"position:absolute;inset:0;background:rgba(255, 200, 200, 0.9);color:darkred;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px;border-radius:8px;z-index:10;text-align:center;font-size:0.9em","margin-top:8px;white-space:pre-wrap;max-height:100px;overflow:auto",s(n.error?.message)||s(JSON.stringify(n.error)))}})),s(l(E,{get fallback(){return[]},get children(){return o(z,i(),"width:100%;height:100%;display:block;outline:none"+(";opacity:"+(n.loading||n.error?.3:1))+";background-color:transparent;transition:opacity 0.4s ease-in-out")}})),s(l(u,{get when(){return v()},get children(){return o(O,i())}})))}export{Z as default};
