import{getRequestEvent as p}from"solid-js/web";import{provideRequestEvent as v}from"solid-js/web/storage";import{e as i}from"./fetchEvent-Ce2Ui3zq.js";import f from"pg";function w(r,n,s){if(typeof r!="function")throw new Error("Export from a 'use server' module must be a function");const a="";return new Proxy(r,{get(c,e,o){return e==="url"?`${a}/_server?id=${encodeURIComponent(n)}&name=${encodeURIComponent(s)}`:e==="GET"?o:c[e]},apply(c,e,o){const u=p();if(!u)throw new Error("Cannot call server function outside of a request");const t=i(u);return t.locals.serverFunctionMeta={id:n+"#"+s},t.serverOnly=!0,v(t,()=>r.apply(e,o))}})}const{Pool:m}=f,D=new m({host:process.env.DB_HOST,user:process.env.DB_USER,password:process.env.DB_PASSWORD,port:process.env.DB_PORT?parseInt(process.env.DB_PORT,10):void 0,database:process.env.DB_NAME});export{w as c,D as d};
