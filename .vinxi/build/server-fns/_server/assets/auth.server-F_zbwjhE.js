import s from"vite-plugin-node-polyfills/shims/process";import{c as t}from"./server-fns-runtime-DEO2-sKc.js";import{u as a}from"./fetchEvent-BW7O4Ysp.js";import"solid-js/web";import"solid-js/web/storage";import"h3";import"vite-plugin-node-polyfills/shims/global";import"node:async_hooks";async function n(){if(!s.env.SESSION_SECRET)return console.error("SESSION_SECRET non è impostata! Impossibile recuperare la sessione."),null;try{return(await a({password:s.env.SESSION_SECRET,name:s.env.JWT_ISSUER})).data??null}catch(r){return console.error("[AUTH.SERVER] Errore durante il recupero/decodifica della sessione:",r),null}}const p=t(async function(){const e=await n();if(e?.userId){const o=parseInt(e.userId,10);return isNaN(o)?(console.error(`ID utente nella sessione non è un numero valido: "${e.userId}"`),null):o}return null},"src_server_auth_server_ts--getUserId_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server="),S=t(async function(){return(await n())?.username??null},"src_server_auth_server_ts--getUsername_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server="),I=t(async function(){const e=await n();return e?.userId&&e?.username?{id:e.userId,username:e.username}:null},"src_server_auth_server_ts--getUser_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server=");export{p as getUserId_1,I as getUser_1,S as getUsername_1};
