import{l as g,w as T,D as h,c as n,n as y,q as u,t as S,M as i,z as _,F as f,G as l,g as M}from"./web-DcXN-p99.js";import{E as R}from"./Title-BAWdhi0q.js";import{g as N,W as U,S as D}from"./index-CH-czpgK.js";import{g as $,c as F}from"./exchangeRates-DIwxOQun.js";import{e as s,C as k}from"./index-DMf-fkG-.js";import"./server-runtime-6wq6LtAi.js";import"./prova-Dx2gmhDX.js";import"./components-BQhjVazl.js";import"./routing-BUmn5GEU.js";import"./preload-helper-CM3UJVvY.js";import"./Inputs-hvbb28Ka.js";import"./ButtonSparkle-CX-W2frl.js";import"./action-CDr_hENZ.js";import"./deleteWallet-Djn27Ww0.js";import"./Card.module-nMwE8ysR.js";var w=S('<p class="CM mt-100">'),G=S('<div class="ml-[13vw] mt-[20vw] grid grid-cols-3 gap-x-0 gap-y-300"><!$><!/><!$><!/>');const[re,C]=g(null),[te,ne]=g(null);function ae(){const[b,E]=g(null);T(async()=>{const r=await $();E(r)});const[o,{mutate:A,refetch:L}]=h(()=>({user:b(),editState:s()}),async r=>N(r.user));function I(r){const a=[];return o()?.filter(t=>t.container_id==r&&t.type=="wallet").forEach(t=>{a.push({color:t.color,wallet:t.wallet_name,balance:t.balance,currency:t.currency,position:a.length,id:t.id})}),a}const d="EUR",[m]=h(()=>({containerId:null,targetCurrency:d}),async r=>{const{containerId:a,targetCurrency:t}=r;try{const c=await $();if(c===null)throw new Error("Utente non autenticato per calcolo totale.");return await F(a,t,c)}catch(c){throw console.error(`[ConvertedTotalResource] Error fetching/calculating total for container ${a}:`,c),c}});return[n(R,{title:"Wallets"}),(()=>{var r=y(w);return u(r,()=>(m()?.total_balance??0).toLocaleString("it-IT",{style:"currency",currency:m()?.currency_code??d,minimumFractionDigits:2,maximumFractionDigits:2})),r})(),n(l,{get children(){return[n(i,{get when(){return M(()=>!!o())()&&s()==null},get children(){var r=y(G),a=r.firstChild,[t,c]=_(a.nextSibling),p=t.nextSibling,[v,x]=_(p.nextSibling);return u(r,n(f,{get each(){return o()},children:(e,W)=>n(l,{get children(){return n(i,{get when(){return e.type=="container"&&e.container_id==null},get children(){return n(k,{get data(){return I(e.id)},get id(){return e.id},get name(){return e.wallet_name},get currency(){return e.currency},get href(){return`/wallets/${e.id}`},onclick:()=>{C(e.id)}})}})}})}),t,c),u(r,n(f,{get each(){return o()},children:(e,W)=>n(l,{get children(){return n(i,{get when(){return e.type=="wallet"&&e.container_id==null},get children(){return n(U,{get balance(){return e.balance},get name(){return e.wallet_name},get nation(){return e.nation},get currency(){return e.currency},get category(){return e.category_id},get color(){return e.color},get href(){return`/wallets/${e.id}`},onClick:()=>C(e.id),get id(){return e.id}})}})}})}),v,x),r}}),n(i,{get when(){return s()},get children(){return n(D,{})}})]}})]}export{ae as default,C as setWalletId,ne as setWalletName,te as walletName,re as walletid};
