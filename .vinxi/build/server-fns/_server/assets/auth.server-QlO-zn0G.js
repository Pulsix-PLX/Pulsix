import r from"vite-plugin-node-polyfills/shims/process";import{c as t}from"./server-fns-runtime-DEO2-sKc.js";import{u as o}from"./fetchEvent-BW7O4Ysp.js";async function n(){if(!r.env.SESSION_SECRET)return console.error("SESSION_SECRET non è impostata! Impossibile recuperare la sessione."),null;try{return(await o({password:r.env.SESSION_SECRET,name:r.env.JWT_ISSUER})).data??null}catch(s){return console.error("[AUTH.SERVER] Errore durante il recupero/decodifica della sessione:",s),null}}const u=t(async function(){const e=await n();if(e?.userId){const a=parseInt(e.userId,10);return isNaN(a)?(console.error(`ID utente nella sessione non è un numero valido: "${e.userId}"`),null):a}return null},"src_server_auth_server_ts--getUserId_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server="),v=u;t(async function(){return(await n())?.username??null},"src_server_auth_server_ts--getUsername_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server=");t(async function(){const e=await n();return e?.userId&&e?.username?{id:e.userId,username:e.username}:null},"src_server_auth_server_ts--getUser_1","C:/Users/Matteo/Desktop/Pulsix/src/server/auth.server.ts?tsr-directive-use-server=");export{v as g};
