import{createComponent as t,ssr as g,ssrHydrationKey as p,escape as a}from"solid-js/web";import{createSignal as l,onMount as W,createResource as h,Switch as u,Match as i,For as y}from"solid-js";import{E as v}from"./assets/Title-C8lsFfVd.js";import{g as S,W as T,S as $}from"./assets/index-B54VJo2T.js";import{g as f,c as b}from"./assets/exchangeRates-ChMJm5Xh.js";import{e as s,C as R}from"./assets/index-CM2EfUOf.js";import"./assets/server-fns-runtime-4T1EILgx.js";import"solid-js/web/storage";import"./assets/fetchEvent-1KlzQMFw.js";import"h3";import"node:async_hooks";import"./assets/db.server-BYnrqg0d.js";import"pg";import"./assets/prova-UkNyxD49.js";import"./assets/components-CJF4pMQg.js";import"./assets/routing-BSDkuvr3.js";import"./assets/Inputs-CEYxPBfP.js";import"solid-js/store";import"gsap";import"./assets/action-BVKOmiKt.js";import"./assets/deleteWallet-D6_HIjzQ.js";import"./assets/ButtonSparkle-DNpTyev3.js";import"./assets/Card.module-nMwE8ysR.js";var U=["<p",' class="CM mt-100">',"</p>"],x=["<div",' class="','"><!--$-->',"<!--/--><!--$-->","<!--/--></div>"];const[nr,C]=l(null),[or,cr]=l(null);function ir(){const[_,I]=l(null);W(async()=>{const r=await f();I(r)});const[c,{mutate:D,refetch:F}]=h(()=>({user:_(),editState:s()}),async r=>S(r.user));function E(r){const n=[];return c()?.filter(e=>e.container_id==r&&e.type=="wallet").forEach(e=>{n.push({color:e.color,wallet:e.wallet_name,balance:e.balance,currency:e.currency,position:n.length,id:e.id})}),n}const d="EUR",[m]=h(()=>({containerId:null,targetCurrency:d}),async r=>{const{containerId:n,targetCurrency:e}=r;try{const o=await f();if(o===null)throw new Error("Utente non autenticato per calcolo totale.");return await b(n,e,o)}catch(o){throw console.error(`[ConvertedTotalResource] Error fetching/calculating total for container ${n}:`,o),o}});return[t(v,{title:"Wallets"}),g(U,p(),a((m()?.total_balance??0).toLocaleString("it-IT",{style:"currency",currency:m()?.currency_code??d,minimumFractionDigits:2,maximumFractionDigits:2}))),t(u,{get children(){return[t(i,{get when(){return c()&&s()==null},get children(){return g(x,p(),"ml-[13vw] mt-[20vw] grid grid-cols-3 gap-x-0 gap-y-300",a(t(y,{get each(){return c()},children:(r,n)=>t(u,{get children(){return t(i,{get when(){return r.type=="container"&&r.container_id==null},get children(){return t(R,{get data(){return E(r.id)},get id(){return r.id},get name(){return r.wallet_name},get currency(){return r.currency},get href(){return`/wallets/${r.id}`},onclick:()=>{C(r.id)}})}})}})})),a(t(y,{get each(){return c()},children:(r,n)=>t(u,{get children(){return t(i,{get when(){return r.type=="wallet"&&r.container_id==null},get children(){return t(T,{get balance(){return r.balance},get name(){return r.wallet_name},get nation(){return r.nation},get currency(){return r.currency},get category(){return r.category_id},get color(){return r.color},get href(){return`/wallets/${r.id}`},onClick:()=>C(r.id),get id(){return r.id}})}})}})})))}}),t(i,{get when(){return s()},get children(){return t($,{})}})]}})]}export{ir as default,C as setWalletId,cr as setWalletName,or as walletName,nr as walletid};
