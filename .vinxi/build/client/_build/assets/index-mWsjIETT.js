import{g as a,b as n,i as s,t as i}from"./web-DpIebe6J.js";import{n as w,f as u,a as l,o as v}from"./solid-DuWri35y.js";import{B as L}from"./ButtonSparkle-B8MvXRxa.js";import{g as c,S as M,b as C,I as d,a as F}from"./Inputs-DcqJwVVk.js";import{s as g}from"./Menu-CJHi8x7g.js";import{a as o}from"./auth-B7ef8sb9.js";import{u as N}from"./routing-CrKy3yVb.js";import"./store-EkIb7068.js";import"./server-runtime-G1njbCYf.js";import"./index-BbP3371Q.js";import"./action-Dtdjs7R9.js";import"./components-BSHtZ-Zq.js";import"./index-Ckjqp3wL.js";import"./index-BAMY2Nnw.js";import"./index-CgqXENQe.js";var k=i("<form class=CM method=post><!$><!/><!$><!/><!$><!/>"),y=i('<div class="auth-links text-center mt-4"><a href=/register class="text-blue-600 hover:underline">Need an account? Register</a><span class=mx-2>|</span><a href=/forgot-password class="text-blue-600 hover:underline">Forgot password?'),I=i("<p class=text-red-500>");function O(){const f=N();w(()=>{g(!1),M({}),C({})}),v(()=>{g(!0)});const $=async e=>{e.preventDefault(),console.log("in");const t=c("username"),r=c("password");if(!t||!r){console.error("Username or password missing from form store");return}console.log("username:",t,"password:",r),await o.login(t,r)?f("/"):console.log("Login failed, error:",o.error)};return[u(()=>u(()=>!!o.error)()&&(()=>{var e=a(I);return s(e,()=>o.error),e})()),(()=>{var e=a(k),t=e.firstChild,[r,m]=n(t.nextSibling),x=r.nextSibling,[p,_]=n(x.nextSibling),b=p.nextSibling,[h,S]=n(b.nextSibling);return e.addEventListener("submit",$),s(e,l(d,{type:"usernameLogin",name:"username",placeholder:"Username",required:!0}),r,m),s(e,l(d,{type:"password",name:"password",placeholder:"Password",required:!0}),p,_),s(e,l(L,{text:"Login",class:"ml-[auto] mr-[auto]",get disabled(){return!F()}}),h,S),e})(),a(y)]}export{O as default};
