import{c as u}from"./assets/server-fns-runtime-C3tiYEg6.js";import{d as m}from"./assets/db.server-CDeyn5Z_.js";import{g as d}from"./assets/auth.server-ChqlnWrh.js";import{j as p}from"./assets/response-CbUr9JDj.js";import"solid-js/web";import"solid-js/web/storage";import"./assets/fetchEvent-9EzSf9d7.js";import"h3";import"vite-plugin-node-polyfills/shims/global";import"node:async_hooks";import"vite-plugin-node-polyfills/shims/process";import"pg";const I=u(async function(l){let r;try{r=await l.request.json()}catch{return p({message:"Corpo della richiesta non valido o mancante."},{status:400})}const e=await d(),{cause:o,date:a,categoryId:s,amount:c,walletId:i,type:n}=r;console.log("cause:",o,"date:",a,"categoryId:",s,"amount:",c,"walletId:",i,"type:",n,"userId:",e);try{return(await m.query("INSERT INTO public.transactions (cause, amount, wallet_id, type, category_id, date, user_id) VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING *",[o,c,i,n,s,a,e]))?.rows??[]}catch(t){throw console.error("[Server Function:getWalletsSub] Errore DB:",t),new Error("Errore recupero somma wallets.")}},"src_routes_API_Wallets_Wallet_addTransaction_ts--POST_1","C:/Users/Matteo/Desktop/Pulsix/src/routes/API/Wallets/Wallet/addTransaction.ts?pick=POST&tsr-directive-use-server="),h=I;export{h as POST};
